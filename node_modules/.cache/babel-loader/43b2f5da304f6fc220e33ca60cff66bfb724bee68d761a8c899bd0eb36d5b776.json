{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\GigoQuan\\\\OneDrive\\\\Desktop\\\\Udacity_AWS\\\\React\\\\final_project_review\\\\udacity_React_final\\\\src\\\\component\\\\Poll.js\",\n  _s = $RefreshSig$();\nimport { connect } from \"react-redux\";\nimport { useParams, Navigate } from \"react-router-dom\";\nimport { Fragment } from \"react\";\nimport { handleToggleQuestion } from \"../actions/questions\";\nimport Nav from \"./Nav\";\nimport { useNavigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Poll = props => {\n  _s();\n  const params = useParams();\n  const navigate = useNavigate();\n  if (!props.userList.users || !props.questions.questions[params.id]) {\n    return /*#__PURE__*/_jsxDEV(Navigate, {\n      replace: true,\n      to: \"/404\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 13,\n      columnNumber: 16\n    }, this);\n  }\n  let answerList = props.userList.users[props.authedUser].answers;\n  const question = props.questions.questions[params.id];\n  const {\n    author,\n    optionOne,\n    optionTwo,\n    id\n  } = question;\n  const selectPoll = (e, optionText) => {\n    e.preventDefault();\n    props.dispatch(handleToggleQuestion({\n      qid: id,\n      authedUser: props.authedUser,\n      answer: optionText\n    }));\n    //  navigate(\"/home\");\n    window.location.reload();\n  };\n  const totalVotes = optionOne.votes.length + optionTwo.votes.length;\n  return /*#__PURE__*/_jsxDEV(Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Nav, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: [\"Poll by \", author]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n        src: props.userList.users[author].avatarURL\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Would you rather\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [optionOne.text, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          disabled: Object.keys(answerList).includes(params.id),\n          onClick: e => selectPoll(e, 'optionOne'),\n          children: answerList[params.id] === 'optionOne' ? 'Option user choosen' : 'click'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Number people voted: \", optionOne.votes.length]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 17\n        }, this), optionOne.votes.length !== 0 && totalVotes !== 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Percentage people voted: \", Math.round(optionOne.votes.length / totalVotes * 100), \" %\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 69\n        }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Percentage people voted: 0%\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 163\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \" ------------------------------------------------------------------------------------\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [optionTwo.text, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          disabled: Object.keys(answerList).includes(params.id),\n          onClick: e => selectPoll(e, 'optionTwo'),\n          children: answerList[params.id] === 'optionTwo' ? 'Option user choosen' : 'click'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Number people voted: \", optionTwo.votes.length]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 17\n        }, this), optionTwo.votes.length !== 0 && totalVotes !== 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Percentage people voted: \", Math.round(optionTwo.votes.length / totalVotes * 100), \" %\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 69\n        }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Percentage people voted: 0%\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 163\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 9\n  }, this);\n};\n_s(Poll, \"lSYLabgCnDLruuq/SSKUMozqso0=\", false, function () {\n  return [useParams, useNavigate];\n});\n_c = Poll;\nconst mapStateToProps = ({\n  authedUser,\n  questions,\n  users\n}) => {\n  return {\n    authedUser,\n    questions: questions,\n    userList: users\n  };\n};\nexport default connect(mapStateToProps)(Poll);\nvar _c;\n$RefreshReg$(_c, \"Poll\");","map":{"version":3,"names":["connect","useParams","Navigate","Fragment","handleToggleQuestion","Nav","useNavigate","jsxDEV","_jsxDEV","Poll","props","_s","params","navigate","userList","users","questions","id","replace","to","fileName","_jsxFileName","lineNumber","columnNumber","answerList","authedUser","answers","question","author","optionOne","optionTwo","selectPoll","e","optionText","preventDefault","dispatch","qid","answer","window","location","reload","totalVotes","votes","length","children","src","avatarURL","text","disabled","Object","keys","includes","onClick","Math","round","_c","mapStateToProps","$RefreshReg$"],"sources":["C:/Users/GigoQuan/OneDrive/Desktop/Udacity_AWS/React/final_project_review/udacity_React_final/src/component/Poll.js"],"sourcesContent":["import { connect } from \"react-redux\";\r\nimport { useParams, Navigate } from \"react-router-dom\";\r\nimport {Fragment } from \"react\";\r\nimport {handleToggleQuestion} from \"../actions/questions\"\r\nimport Nav from \"./Nav\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nconst Poll = (props) => {\r\n    const params = useParams();\r\n    const navigate = useNavigate();\r\n\r\n    if(!props.userList.users || !props.questions.questions[params.id]) {\r\n        return <Navigate replace={true} to='/404' />\r\n    }\r\n\r\n    let answerList = props.userList.users[props.authedUser].answers;\r\n    \r\n    const question = props.questions.questions[params.id];\r\n\r\n    const {\r\n        author,\r\n        optionOne,\r\n        optionTwo,\r\n        id,\r\n      } = question;\r\n\r\n    const selectPoll = (e, optionText) => {\r\n    e.preventDefault();\r\n    props.dispatch(\r\n        handleToggleQuestion({\r\n            qid : id,\r\n            authedUser: props.authedUser,\r\n            answer: optionText,\r\n        })\r\n        );\r\n    //  navigate(\"/home\");\r\n    window.location.reload();\r\n    }\r\n\r\n    const totalVotes = optionOne.votes.length + optionTwo.votes.length;\r\n\r\n    return (\r\n        <Fragment>\r\n            <Nav></Nav>\r\n            <div>\r\n                <h3>Poll by {author}</h3>\r\n                <img src={props.userList.users[author].avatarURL} />\r\n                <h3>Would you rather</h3>\r\n\r\n                <div>{optionOne.text}\r\n                <br />\r\n                <button disabled={Object.keys(answerList).includes(params.id)} onClick={(e) => selectPoll(e, 'optionOne')}>{answerList[params.id] === 'optionOne'? 'Option user choosen' : 'click'}</button>\r\n                <br />\r\n                <p>Number people voted: {optionOne.votes.length}</p>\r\n                {optionOne.votes.length !== 0 && totalVotes !== 0 ? <p>Percentage people voted: {Math.round((optionOne.votes.length / totalVotes) * 100)} %</p> : <p>Percentage people voted: 0%</p>}\r\n                </div>\r\n                <p> ------------------------------------------------------------------------------------</p>\r\n                <div>{optionTwo.text}\r\n                <br />\r\n                <button disabled={Object.keys(answerList).includes(params.id)} onClick={(e) => selectPoll(e, 'optionTwo')}>{answerList[params.id] === 'optionTwo'? 'Option user choosen' : 'click'}</button>\r\n                <br />\r\n                <p>Number people voted: {optionTwo.votes.length}</p>\r\n                {optionTwo.votes.length !== 0 && totalVotes !== 0 ? <p>Percentage people voted: {Math.round((optionTwo.votes.length / totalVotes) * 100)} %</p> : <p>Percentage people voted: 0%</p>}\r\n                </div>\r\n            </div>\r\n        </Fragment>\r\n    );\r\n};\r\n\r\nconst mapStateToProps = ({ authedUser, questions, users }) => {\r\n    return {\r\n      authedUser,\r\n      questions: questions,\r\n      userList: users,\r\n    };\r\n  };\r\n  \r\n  export default connect(mapStateToProps)(Poll);"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}
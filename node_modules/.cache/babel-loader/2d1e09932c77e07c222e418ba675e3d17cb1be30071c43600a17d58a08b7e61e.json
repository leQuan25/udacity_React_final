{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\GigoQuan\\\\OneDrive\\\\Desktop\\\\Udacity_AWS\\\\React\\\\final_project_review\\\\udacity_React_final\\\\src\\\\component\\\\Poll.js\",\n  _s = $RefreshSig$();\nimport { connect } from \"react-redux\";\nimport { useParams, Navigate } from \"react-router-dom\";\nimport { Fragment } from \"react\";\nimport { handleToggleQuestion } from \"../actions/shared\";\nimport Nav from \"./Nav\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Poll = props => {\n  _s();\n  const params = useParams();\n  if (!props.questions[params.id]) {\n    return /*#__PURE__*/_jsxDEV(Navigate, {\n      replace: true,\n      to: \"/404\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 11,\n      columnNumber: 16\n    }, this);\n  }\n  let answerList = props.users[props.authedUser].answers;\n  const question = props.questions[params.id];\n  const {\n    author,\n    optionOne,\n    optionTwo,\n    id\n  } = question;\n  const selectPoll = (e, optionText) => {\n    e.preventDefault();\n    props.dispatch(handleToggleQuestion({\n      qid: id,\n      authedUser: props.authedUser,\n      answer: optionText\n    }));\n  };\n  const totalVotes = optionOne.votes.length + optionTwo.votes.length;\n  return /*#__PURE__*/_jsxDEV(Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Nav, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: [\"Poll by \", author]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n        src: props.users[author].avatarURL\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Would you rather\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [optionOne.text, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          disabled: Object.keys(answerList).includes(params.id),\n          onClick: e => selectPoll(e, 'optionOne'),\n          children: answerList[params.id] === 'optionOne' ? 'Option user choosen' : 'click'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Number people voted: \", optionOne.votes.length]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 17\n        }, this), optionOne.votes.length !== 0 && totalVotes !== 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Percentage people voted: \", Math.round(optionOne.votes.length / totalVotes * 100), \" %\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 69\n        }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Percentage people voted: 0%\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 163\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \" ------------------------------------------------------------------------------------\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [optionTwo.text, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          disabled: Object.keys(answerList).includes(params.id),\n          onClick: e => selectPoll(e, 'optionTwo'),\n          children: answerList[params.id] === 'optionTwo' ? 'Option user choosen' : 'click'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Number people voted: \", optionTwo.votes.length]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 17\n        }, this), optionTwo.votes.length !== 0 && totalVotes !== 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Percentage people voted: \", Math.round(optionTwo.votes.length / totalVotes * 100), \" %\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 69\n        }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Percentage people voted: 0%\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 163\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 9\n  }, this);\n};\n_s(Poll, \"+jVsTcECDRo3yq2d7EQxlN9Ixog=\", false, function () {\n  return [useParams];\n});\n_c = Poll;\nconst mapStateToProps = ({\n  authedUser,\n  questions,\n  users\n}) => {\n  return {\n    authedUser,\n    questions,\n    users\n  };\n};\nexport default connect(mapStateToProps)(Poll);\nvar _c;\n$RefreshReg$(_c, \"Poll\");","map":{"version":3,"names":["connect","useParams","Navigate","Fragment","handleToggleQuestion","Nav","jsxDEV","_jsxDEV","Poll","props","_s","params","questions","id","replace","to","fileName","_jsxFileName","lineNumber","columnNumber","answerList","users","authedUser","answers","question","author","optionOne","optionTwo","selectPoll","e","optionText","preventDefault","dispatch","qid","answer","totalVotes","votes","length","children","src","avatarURL","text","disabled","Object","keys","includes","onClick","Math","round","_c","mapStateToProps","$RefreshReg$"],"sources":["C:/Users/GigoQuan/OneDrive/Desktop/Udacity_AWS/React/final_project_review/udacity_React_final/src/component/Poll.js"],"sourcesContent":["import { connect } from \"react-redux\";\r\nimport { useParams, Navigate } from \"react-router-dom\";\r\nimport {Fragment } from \"react\";\r\nimport {handleToggleQuestion} from \"../actions/shared\"\r\nimport Nav from \"./Nav\";\r\n\r\nconst Poll = (props) => {\r\n    const params = useParams();\r\n\r\n    if(!props.questions[params.id]) {\r\n        return <Navigate replace={true} to='/404' />\r\n    }\r\n\r\n    let answerList = props.users[props.authedUser].answers;\r\n    \r\n    const question = props.questions[params.id];\r\n\r\n    const {\r\n        author,\r\n        optionOne,\r\n        optionTwo,\r\n        id,\r\n      } = question;\r\n\r\n    const selectPoll = (e, optionText) => {\r\n    e.preventDefault();\r\n    props.dispatch(\r\n        handleToggleQuestion({\r\n            qid : id,\r\n            authedUser: props.authedUser,\r\n            answer: optionText,\r\n        })\r\n        );\r\n    }\r\n\r\n    const totalVotes = optionOne.votes.length + optionTwo.votes.length;\r\n\r\n    return (\r\n        <Fragment>\r\n            <Nav></Nav>\r\n            <div>\r\n                <h3>Poll by {author}</h3>\r\n                <img src={props.users[author].avatarURL} />\r\n                <h3>Would you rather</h3>\r\n\r\n                <div>{optionOne.text}\r\n                <br />\r\n                <button disabled={Object.keys(answerList).includes(params.id)} onClick={(e) => selectPoll(e, 'optionOne')}>{answerList[params.id] === 'optionOne'? 'Option user choosen' : 'click'}</button>\r\n                <br />\r\n                <p>Number people voted: {optionOne.votes.length}</p>\r\n                {optionOne.votes.length !== 0 && totalVotes !== 0 ? <p>Percentage people voted: {Math.round((optionOne.votes.length / totalVotes) * 100)} %</p> : <p>Percentage people voted: 0%</p>}\r\n                </div>\r\n                <p> ------------------------------------------------------------------------------------</p>\r\n                <div>{optionTwo.text}\r\n                <br />\r\n                <button disabled={Object.keys(answerList).includes(params.id)} onClick={(e) => selectPoll(e, 'optionTwo')}>{answerList[params.id] === 'optionTwo'? 'Option user choosen' : 'click'}</button>\r\n                <br />\r\n                <p>Number people voted: {optionTwo.votes.length}</p>\r\n                {optionTwo.votes.length !== 0 && totalVotes !== 0 ? <p>Percentage people voted: {Math.round((optionTwo.votes.length / totalVotes) * 100)} %</p> : <p>Percentage people voted: 0%</p>}\r\n                </div>\r\n            </div>\r\n        </Fragment>\r\n    );\r\n};\r\n\r\nconst mapStateToProps = ({ authedUser, questions, users }) => {\r\n    return {\r\n      authedUser,\r\n      questions,\r\n      users,\r\n    };\r\n  };\r\n  \r\n  export default connect(mapStateToProps)(Poll);"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\GigoQuan\\\\OneDrive\\\\Desktop\\\\Udacity_AWS\\\\React\\\\final_project_review\\\\udacity_React_final\\\\src\\\\component\\\\Poll.js\",\n  _s = $RefreshSig$();\nimport { connect } from \"react-redux\";\nimport { useParams, Navigate } from \"react-router-dom\";\nimport { Fragment } from \"react\";\nimport { handleToggleQuestion } from \"../actions/shared\";\nimport Nav from \"./Nav\";\nimport { useNavigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Poll = props => {\n  _s();\n  const params = useParams();\n  if (!props.userList.users || !props.questions.questions[params.id]) {\n    return /*#__PURE__*/_jsxDEV(Navigate, {\n      replace: true,\n      to: \"/404\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 12,\n      columnNumber: 16\n    }, this);\n  }\n  let answerList = props.userList.users[props.authedUser].answers;\n  const question = props.questions.questions[params.id];\n  const {\n    author,\n    optionOne,\n    optionTwo,\n    id\n  } = question;\n  const selectPoll = (e, optionText) => {\n    e.preventDefault();\n    props.dispatch(handleToggleQuestion({\n      qid: id,\n      authedUser: props.authedUser,\n      answer: optionText\n    }));\n  };\n  const totalVotes = optionOne.votes.length + optionTwo.votes.length;\n  return /*#__PURE__*/_jsxDEV(Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Nav, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: [\"Poll by \", author]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n        src: props.userList.users[author].avatarURL\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Would you rather\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [optionOne.text, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          disabled: Object.keys(answerList).includes(params.id),\n          onClick: e => selectPoll(e, 'optionOne'),\n          children: answerList[params.id] === 'optionOne' ? 'Option user choosen' : 'click'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Number people voted: \", optionOne.votes.length]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 17\n        }, this), optionOne.votes.length !== 0 && totalVotes !== 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Percentage people voted: \", Math.round(optionOne.votes.length / totalVotes * 100), \" %\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 69\n        }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Percentage people voted: 0%\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 163\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \" ------------------------------------------------------------------------------------\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [optionTwo.text, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          disabled: Object.keys(answerList).includes(params.id),\n          onClick: e => selectPoll(e, 'optionTwo'),\n          children: answerList[params.id] === 'optionTwo' ? 'Option user choosen' : 'click'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Number people voted: \", optionTwo.votes.length]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 17\n        }, this), optionTwo.votes.length !== 0 && totalVotes !== 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Percentage people voted: \", Math.round(optionTwo.votes.length / totalVotes * 100), \" %\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 69\n        }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Percentage people voted: 0%\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 163\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 9\n  }, this);\n};\n_s(Poll, \"+jVsTcECDRo3yq2d7EQxlN9Ixog=\", false, function () {\n  return [useParams];\n});\n_c = Poll;\nconst mapStateToProps = ({\n  authedUser,\n  questions,\n  users\n}) => {\n  return {\n    authedUser,\n    questions: questions,\n    userList: users\n  };\n};\nexport default connect(mapStateToProps)(Poll);\nvar _c;\n$RefreshReg$(_c, \"Poll\");","map":{"version":3,"names":["connect","useParams","Navigate","Fragment","handleToggleQuestion","Nav","useNavigate","jsxDEV","_jsxDEV","Poll","props","_s","params","userList","users","questions","id","replace","to","fileName","_jsxFileName","lineNumber","columnNumber","answerList","authedUser","answers","question","author","optionOne","optionTwo","selectPoll","e","optionText","preventDefault","dispatch","qid","answer","totalVotes","votes","length","children","src","avatarURL","text","disabled","Object","keys","includes","onClick","Math","round","_c","mapStateToProps","$RefreshReg$"],"sources":["C:/Users/GigoQuan/OneDrive/Desktop/Udacity_AWS/React/final_project_review/udacity_React_final/src/component/Poll.js"],"sourcesContent":["import { connect } from \"react-redux\";\r\nimport { useParams, Navigate } from \"react-router-dom\";\r\nimport {Fragment } from \"react\";\r\nimport {handleToggleQuestion} from \"../actions/shared\"\r\nimport Nav from \"./Nav\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nconst Poll = (props) => {\r\n    const params = useParams();\r\n\r\n    if(!props.userList.users || !props.questions.questions[params.id]) {\r\n        return <Navigate replace={true} to='/404' />\r\n    }\r\n\r\n    let answerList = props.userList.users[props.authedUser].answers;\r\n    \r\n    const question = props.questions.questions[params.id];\r\n\r\n    const {\r\n        author,\r\n        optionOne,\r\n        optionTwo,\r\n        id,\r\n      } = question;\r\n\r\n    const selectPoll = (e, optionText) => {\r\n    e.preventDefault();\r\n    props.dispatch(\r\n        handleToggleQuestion({\r\n            qid : id,\r\n            authedUser: props.authedUser,\r\n            answer: optionText,\r\n        })\r\n        );\r\n    }\r\n\r\n    const totalVotes = optionOne.votes.length + optionTwo.votes.length;\r\n\r\n    return (\r\n        <Fragment>\r\n            <Nav></Nav>\r\n            <div>\r\n                <h3>Poll by {author}</h3>\r\n                <img src={props.userList.users[author].avatarURL} />\r\n                <h3>Would you rather</h3>\r\n\r\n                <div>{optionOne.text}\r\n                <br />\r\n                <button disabled={Object.keys(answerList).includes(params.id)} onClick={(e) => selectPoll(e, 'optionOne')}>{answerList[params.id] === 'optionOne'? 'Option user choosen' : 'click'}</button>\r\n                <br />\r\n                <p>Number people voted: {optionOne.votes.length}</p>\r\n                {optionOne.votes.length !== 0 && totalVotes !== 0 ? <p>Percentage people voted: {Math.round((optionOne.votes.length / totalVotes) * 100)} %</p> : <p>Percentage people voted: 0%</p>}\r\n                </div>\r\n                <p> ------------------------------------------------------------------------------------</p>\r\n                <div>{optionTwo.text}\r\n                <br />\r\n                <button disabled={Object.keys(answerList).includes(params.id)} onClick={(e) => selectPoll(e, 'optionTwo')}>{answerList[params.id] === 'optionTwo'? 'Option user choosen' : 'click'}</button>\r\n                <br />\r\n                <p>Number people voted: {optionTwo.votes.length}</p>\r\n                {optionTwo.votes.length !== 0 && totalVotes !== 0 ? <p>Percentage people voted: {Math.round((optionTwo.votes.length / totalVotes) * 100)} %</p> : <p>Percentage people voted: 0%</p>}\r\n                </div>\r\n            </div>\r\n        </Fragment>\r\n    );\r\n};\r\n\r\nconst mapStateToProps = ({ authedUser, questions, users }) => {\r\n    return {\r\n      authedUser,\r\n      questions: questions,\r\n      userList: users,\r\n    };\r\n  };\r\n  \r\n  export default connect(mapStateToProps)(Poll);"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}